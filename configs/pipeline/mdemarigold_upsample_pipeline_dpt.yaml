defaults:
  - _self_

_target_: lib.model.mde.marigold.marigold_pipeline.MarigoldPipeline

args:
  # Scheduler
  upsample: True
  only_dpt: True
  scheduler_opt_train: # Always DDPM
    _class_name: "DDPMScheduler"
    _diffusers_version: "0.8.0"
    beta_end: 0.012
    beta_schedule: "scaled_linear"
    beta_start: 0.00085
    clip_sample: False
    num_train_timesteps: 1000
    prediction_type: "v_prediction"
    # set_alpha_to_one: False
    # skip_prk_steps: True
    steps_offset: 1
    trained_betas: null
  scheduler_opt_test:
    _class_name: "DDIMScheduler"
    _diffusers_version: "0.8.0"
    beta_end: 0.012
    beta_schedule: "scaled_linear"
    beta_start: 0.00085
    clip_sample: False
    num_train_timesteps: 1000
    prediction_type: "v_prediction"
    set_alpha_to_one: False
    # skip_prk_steps: True
    steps_offset: 1
    trained_betas: null
  unet_opt:
    config_dir: ${oc.env:workspace}/Marigold/checkpoint/Marigold_v1_merged_2/unet_init_9ch # stable diffusion v2 unet
  vae_opt:
    config_dir: ${oc.env:workspace}/Marigold/checkpoint/Marigold_v1_merged_2/vae
  tokenizer_opt:
    config_dir: ${oc.env:workspace}/Marigold/checkpoint/Marigold_v1_merged_2/tokenizer
  textencoder_opt:
    config_dir: ${oc.env:workspace}/Marigold/checkpoint/Marigold_v1_merged_2/text_encoder