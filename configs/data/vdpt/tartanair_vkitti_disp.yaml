_target_: lib.datamodule.general_datamodule_v2.GeneralDataModule
name: dpt # uncondition
concat_independent: True
dataset_opts:
  train:
    - _target_: lib.dataset.vdpt.tartanair.Dataset
      data_root: ${oc.env:workspace}/TartanAir/train
      split: 'train'
      frames: [0, -1, 1]
      depth_norm: 'disp'
      frame_len: 5 # 2*frame_len + 1
    - _target_: lib.dataset.vdpt.vkitti.Dataset
      data_root: ${oc.env:workspace}/vkitti
      split: 'train'
      scenes: ['Scene01', 'Scene02', 'Scene06', 'Scene18', 'Scene20']
      sequences: ['15-deg-left', '15-deg-right', '30-deg-left', '30-deg-right', 'clone', 'morning', 'overcast', 'sunset']
      frames: [0, -1, 1]
      depth_norm: 'disp'
      frame_len: 3 # 2*frame_len + 1
  val:
    _target_: lib.dataset.vdpt.tartanair.Dataset
    data_root: ${oc.env:workspace}/TartanAir/train
    split: 'train'
    frames: [0, 2000, 1]
    depth_norm: 'disp'
    frame_len: 5 # 2*frame_len + 1
loader_opts:
  train:
    batch_size: 2 # 80GB GPU, A100
    num_workers: 12
    max_iter: 10000
    dataset_split_prob: [0.8, 0.2]
  val:
    batch_size: 1
    num_workers: 1