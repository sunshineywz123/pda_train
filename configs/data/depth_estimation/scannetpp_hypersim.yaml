_target_: lib.datamodule.general_datamodule_v2.GeneralDataModule
dataset_opts:
  train:
    - _target_: lib.dataset.depth_estimation.hypersim_transform.Dataset
      data_root: ${oc.env:workspace}/hypersim
      rgb_dir: ${oc.env:workspace}/datasets/HyperSim
      dpt_dir: ${oc.env:workspace}/processed_datasets/HyperSim
      split_path: ${oc.env:workspace}/processed_datasets/HyperSim/metadata_valid_0.05_splits_ht.json
      split: 'train'
      frames: [0, -1, 1]
    - _target_: lib.dataset.depth_estimation.scannetpp.Dataset
      data_root: ${oc.env:workspace}/datasets/scannetpp/data
      scene: acd95847c5
      split: train
      frames: [0, -1, 1]
      # resize_ratio: 0.5
      ensure_multiple_of: 14
      resize_target: False
  val:
    _target_: lib.dataset.depth_estimation.scannetpp.Dataset
    data_root: ${oc.env:workspace}/datasets/scannetpp/data
    scene: acd95847c5
    split: val
    frames: [0, -1, 40]
    # resize_ratio: 0.5
    ensure_multiple_of: 14
    resize_target: False
loader_opts:
  train:
    - batch_size: 2
      num_workers: 4
      shuffle: True
      persistent_workers: True
      pin_memory: False
    - batch_size: 2
      num_workers: 4
      shuffle: True
      persistent_workers: True
      pin_memory: False
  val:
    batch_size: 1
    num_workers: 4
    shuffle: False
    persistent_workers: True
    pin_memory: True